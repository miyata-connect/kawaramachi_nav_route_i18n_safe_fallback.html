<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
  <title>Walk-NAV</title>

  <!-- Leaflet -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-o9N1j7kG9kG8a9kaK2vNhbbX6YsJh8e3toDnN2DXW8A="
    crossorigin=""
    defer
  ></script>

  <link rel="stylesheet" href="styles.css" />
  <script defer src="app.js"></script>
</head>
<body>
  <!-- Map -->
  <div id="map"></div>

  <!-- 右サイド縦ボタン（地図上。板と干渉しない位置/余白済み） -->
  <div class="right-stack">
    <button id="btn-current" class="btn-right">現在地</button>
    <button id="btn-dest"    class="btn-right">目的地</button>
    <button id="btn-reroute" class="btn-right">リルート</button>
  </div>

  <!-- 方位計（針は中心回転・盤内に収める） -->
  <div class="compass-wrap">
    <div class="compass-dial">
      <div class="compass-needle" id="compass-needle"></div>
    </div>
    <div class="heading-buttons">
      <button id="btn-north"   class="btn-mini">北を向く</button>
      <button id="btn-heading" class="btn-mini">進行方向</button>
    </div>
  </div>

  <!-- ガラス板（1枚に統合） -->
  <div id="panel" class="glass">
    <!-- 検索バー -->
    <div class="row search-row">
      <input id="q" class="input" placeholder="名称・住所・電話番号で検索" />
      <button id="btn-voice" class="btn mic green" title="音声検索（長押しで録音開始）">🎤 音声</button>
    </div>

    <!-- 上段：検索＋履歴クリア -->
    <div class="row gap">
      <button id="btn-search" class="btn primary">検索</button>
      <button id="btn-clear-history" class="btn secondary">履歴をクリア</button>
    </div>

    <!-- ルートモード：最短/楽チン/お散歩Ai/観光案内（横並び） -->
    <div class="row gap">
      <button class="mode-btn selected" data-mode="shortest">最短</button>
      <button class="mode-btn" data-mode="easy">楽チン</button>
      <button class="mode-btn" data-mode="walkai">お散歩Ai</button>
      <button class="mode-btn" data-mode="tour">観光案内</button>
    </div>

    <!-- 言語：縦トグル -->
    <details class="lang-accordion">
      <summary class="summary-center">言語 / Language</summary>
      <div class="langs">
        <button class="lang-btn selected" data-lang="ja">日本語</button>
        <button class="lang-btn" data-lang="en">English</button>
        <button class="lang-btn" data-lang="de">Deutsch</button>
        <button class="lang-btn" data-lang="it">Italiano</button>
        <button class="lang-btn" data-lang="fr">Français</button>
        <button class="lang-btn" data-lang="es">Español</button>
        <button class="lang-btn" data-lang="ko">한국어</button>
        <button class="lang-btn" data-lang="zh">中文</button>
      </div>
    </details>

    <!-- 位置入力（開始/目的） -->
    <div class="grid2 gap section">
      <div>
        <div class="section-title">開始地点</div>
        <div class="grid2 mini-gap">
          <input id="start-lng" class="input center" placeholder="経度" />
          <input id="start-lat" class="input center" placeholder="緯度" />
        </div>
      </div>
      <div>
        <div class="section-title">目的地点</div>
        <div class="grid2 mini-gap">
          <input id="end-lng" class="input center" placeholder="経度" />
          <input id="end-lat" class="input center" placeholder="緯度" />
        </div>
      </div>
    </div>

    <!-- 保存/設定/案内 -->
    <div class="row gap">
      <button id="btn-save" class="btn green">現在地を保存</button>
      <button id="btn-set-dest" class="btn blue">目的地に設定</button>
      <button id="btn-start" class="btn green big">案内開始</button>
      <button id="btn-stop"  class="btn red big">案内を停止</button>
    </div>

    <!-- 検索結果ビュー（スライド切替） -->
    <div id="results" class="results">
      <div class="results-head">
        <div class="results-title">検索結果</div>
        <button id="btn-close-results" class="btn ghost">×</button>
      </div>
      <ul id="results-list"></ul>
    </div>

    <!-- ステータス -->
    <div id="status" class="status"></div>
  </div>
</body>
</html>