<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ã‚¦ã‚©ãƒ¼ã‚¯ãƒŠãƒ“ï¼ˆORD-003 ERR-001 å¯¾å¿œç‰ˆï¼‰</title>

<!-- Google Maps JS APIï¼šãƒ–ãƒ©ã‚¦ã‚¶ç”¨ã‚­ãƒ¼ï¼ˆç¾è¡Œã®ã¾ã¾ï¼‰ -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBzojEE2142O8dWPd7gmcAj-FyWumYyFy4" defer></script>

<style>
/* ===== æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³ã¯å¤‰æ›´ã›ãšï¼ˆè‰²ãƒ»ã‚µã‚¤ã‚ºãƒ»é…ç½®ã¯ãã®ã¾ã¾ï¼‰ ===== */
:root{
  --glass: rgba(20,28,44,.54);
  --glass-strong: rgba(16,22,36,.68);
  --stroke: rgba(255,255,255,.14);
  --text: #eaf2ff;
  --muted:#a7b8ce;
  --primary:#5fb1ff;
  --ok:#25d07a;
  --danger:#ff6565;
  --accent:#64d2ff;
  --panelH: 240px;
}
html,body{height:100%;margin:0;background:#0e1a2d;color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP",Meiryo,sans-serif}
*{box-sizing:border-box}
a{color:inherit;text-decoration:none}
.app{position:relative;height:100dvh;overflow:hidden}
#map{position:absolute;inset:0}

/* HUDï¼ˆæ–‡å­—æ¡ˆå†…ãƒ»æ™‚åˆ»ãƒ»å¤©æ°—ï¼‰â€”â€” è¦‹ãŸç›®ã¯å¾“æ¥ã®ã¾ã¾ */
.hud-wrap{position:absolute;left:12px;right:12px;top:10px;z-index:410;display:flex;flex-direction:column;gap:10px;pointer-events:none}
.hud{pointer-events:auto;background:var(--glass);border:1px solid var(--stroke);
  border-radius:14px;backdrop-filter: blur(14px) saturate(120%);-webkit-backdrop-filter: blur(14px) saturate(120%);
  box-shadow:0 10px 30px rgba(0,0,0,.35);padding:10px 14px}
#guideText{font-weight:800}
.timebar{display:flex;gap:10px}
.timepill{flex:1;background:rgba(255,255,255,.10);border:1px solid var(--stroke);border-radius:12px;padding:8px 10px;display:flex;align-items:center;justify-content:space-between}
.timepill small{opacity:.85}
#weatherBar{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.wx{display:flex;align-items:center;gap:6px;background:rgba(255,255,255,.10);border:1px solid var(--stroke);border-radius:10px;padding:6px 8px}
.wx i{font-style:normal;font-weight:800}
.wx .t{opacity:.9}

/* æ“ä½œãƒ‘ãƒãƒ«ï¼ˆä¸‹ä»˜ãï¼ä¸‹æ–¹å‘ã¸åç´ã€‚æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç¶­æŒï¼‰ */
.glassbar{position:absolute;left:0;right:0;bottom:0;z-index:420;padding:10px 12px;pointer-events:none}
.card{
  pointer-events:auto;background:var(--glass);border:1px solid var(--stroke);
  border-radius:16px;backdrop-filter: blur(14px) saturate(120%);-webkit-backdrop-filter: blur(14px) saturate(120%);
  box-shadow:0 10px 30px rgba(0,0,0,.35);padding:12px 12px;width:min(1100px, 96vw);margin:0 auto;
}
.row{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}
.grow{flex:1 1 220px}
input,button,select{
  background:var(--glass-strong);border:1px solid var(--stroke);color:var(--text);
  border-radius:12px;padding:11px 13px;font-size:16px;outline:none;min-height:44px;max-width:100%;
}
button.primary{background:rgba(95,177,255,.92);border:none;font-weight:700}
button.ok{background:var(--ok);border:none;font-weight:700}
button.danger{background:var(--danger);border:none;font-weight:700}
button.ghost{background:rgba(255,255,255,.06)}
.hint{color:var(--muted);font-size:13px}

/* ãƒ‘ãƒãƒ«ã®å‡ºã—å…¥ã‚Œï¼ˆä¸‹ä»˜ãï¼‰ */
#panelWrap{transform:translateY(0);transition:transform .32s ease;will-change:transform}
.app.panel-open #panelWrap{transform:translateY(0)} /* è¡¨ç¤º */
.app.panel-closed #panelWrap{transform:translateY(calc(100% - 46px))} /* åç´ã—ã¦ã‚¿ãƒ–ã ã‘æ®‹ã™ */
#panelTab{position:absolute;left:50%;transform:translate(-50%,-8px);bottom:0;z-index:421;
  background:rgba(0,0,0,.55);border:1px solid var(--stroke);color:#fff;border-radius:22px;padding:8px 14px;}

/* â–¼â–¼â–¼ ã“ã“ãŒä»Šå›ã®â€œå”¯ä¸€ã®ä»•æ§˜å¤‰æ›´ãƒ­ã‚¸ãƒƒã‚¯â€ â–¼â–¼â–¼
   ãƒ‘ãƒãƒ«è¡¨ç¤ºä¸­ã¯ HUDï¼ˆæ–‡å­—æ¡ˆå†…ãƒ»æ™‚åˆ»ãƒ»å¤©æ°—ï¼‰ã‚’éè¡¨ç¤ºã«ã™ã‚‹ï¼ˆORD-003/ERR-001ï¼‰ */
.app.panel-open .hud{display:none !important;}
/* â–²â–²â–² */

/* ã‚³ãƒ³ãƒ‘ã‚¹ï¼ˆå·¦ä¸Šå›ºå®šã€‚è¦‹ãŸç›®ã¯æ—¢å­˜ã®ã¾ã¾ï¼‰ */
.comp-wrap{position:absolute;left:10px;top:78px;z-index:405}
.compass{width:90px;height:90px;background:var(--glass);border:1px solid var(--stroke);border-radius:50%;
  backdrop-filter: blur(10px) saturate(120%);-webkit-backdrop-filter: blur(10px) saturate(120%);
  box-shadow:0 10px 26px rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center}
.compass svg{width:76px;height:76px}
.compass .needle{transform-origin:38px 38px;transform:rotate(0deg)}
.compass text{font-size:10px;fill:#f6d58b}

/* å³å´ãƒ»æ¡ˆå†…ãƒœã‚¿ãƒ³åˆ—ï¼ˆä½ç½®ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´ãªã—ï¼‰ */
.fab-col{position:absolute;right:12px;top:50%;transform:translateY(-50%);z-index:430;display:flex;flex-direction:column;gap:10px}
.fab-col button{min-width:150px;box-shadow:0 12px 26px rgba(0,0,0,.45)}
@media (max-width:640px){ .fab-col button{min-width:130px} }
</style>
</head>
<body>
<div class="app panel-open" id="app">
  <div id="map"></div>

  <!-- ===== HUDï¼ˆæ–‡å­—æ¡ˆå†…ï¼æ™‚åˆ»ï¼å¤©æ°—ï¼‰ ===== -->
  <div class="hud-wrap" id="hudWrap">
    <div class="hud" id="guideBanner"><div id="guideText">ç›®çš„åœ°ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</div></div>
    <div class="hud timebar" id="timeBar">
      <div class="timepill"><small>ç¾åœ¨æ™‚åˆ»</small><span id="nowTime">--:--:--</span></div>
      <div class="timepill"><small>åˆ°ç€äºˆæƒ³</small><span id="etaTime">--:--:--</span></div>
    </div>
    <div class="hud" id="weatherBar">
      <!-- ä¾‹: 3H/6H/12H ã‚’è¡¨ç¤ºï¼ˆä¸­èº«ã¯æ—¢å­˜ã¨åŒã˜ã€ä»Šå›ã¯éè¡¨ç¤ºåˆ‡æ›¿ã®ã¿ï¼‰ -->
      <div class="wx"><i>3h</i><span class="t">--â„ƒ / --%</span></div>
      <div>â†’</div>
      <div class="wx"><i>6h</i><span class="t">--â„ƒ / --%</span></div>
      <div>â†’</div>
      <div class="wx"><i>12h</i><span class="t">--â„ƒ / --%</span></div>
    </div>
  </div>

  <!-- ã‚³ãƒ³ãƒ‘ã‚¹ï¼ˆå·¦ä¸Šå›ºå®šï¼‰ -->
  <div class="comp-wrap" id="compWrap">
    <div class="compass" id="compass">
      <svg viewBox="0 0 76 76">
        <defs><radialGradient id="g" cx="50%" cy="50%" r="60%"><stop offset="0%" stop-color="#0b1626"/><stop offset="60%" stop-color="#0a1422"/><stop offset="100%" stop-color="#09121f"/></radialGradient></defs>
        <circle cx="38" cy="38" r="34" fill="url(#g)" stroke="rgba(255,255,255,.10)"/>
        <text x="38" y="12" text-anchor="middle">N</text>
        <g class="needle" id="needle"><polygon points="38,14 34,38 42,38" fill="#ff5252"/></g>
      </svg>
    </div>
  </div>

  <!-- å³å´ã®ãƒœã‚¿ãƒ³åˆ—ï¼ˆæ—¢å­˜ã©ãŠã‚Šï¼‰ -->
  <div class="fab-col" id="fabCol">
    <button id="navStart" class="ok">æ¡ˆå†…é–‹å§‹</button>
    <button id="navStop"  class="danger">æ¡ˆå†…ã‚’åœæ­¢</button>
    <button id="gotoStart" class="primary">ç¾åœ¨åœ°</button>
    <button id="gotoDest"  class="primary">ç›®çš„åœ°</button>
    <button id="reroute"   class="primary">ãƒªãƒ«ãƒ¼ãƒˆ</button>
  </div>

  <!-- æ“ä½œãƒ‘ãƒãƒ«ï¼ˆä¸‹ä»˜ãï¼ä¸‹æ–¹å‘ã¸åç´ï¼‰ -->
  <div class="glassbar" id="panelWrap">
    <div class="card" id="panel">
      <div class="row">
        <input id="q" class="grow" placeholder="åº—èˆ—åãƒ»ä½æ‰€ãƒ»é›»è©±ç•ªå·ã§æ¤œç´¢" autocomplete="off">
        <button id="mic" class="ghost" style="background:#0cb35a">ğŸ¤ éŸ³å£°</button>
        <button id="search" class="primary">æ¤œç´¢</button>
        <button id="clearHistory" class="ghost">å±¥æ­´ã‚’ã‚¯ãƒªã‚¢</button>
      </div>

      <div class="row" style="margin-top:8px">
        <button class="ghost" id="modeShortest">æœ€çŸ­Ai</button>
        <button class="ghost" id="modeEasy">æ¥½ãƒãƒ³Ai</button>
        <button class="ghost" id="modeStroll">ãŠæ•£æ­©Ai</button>
        <button class="ghost" id="langToggle">â–¶ è¨€èª / Language</button>
      </div>

      <div class="row" style="margin-top:10px">
        <div class="grow">
          <div style="opacity:.75">ç¾åœ¨åœ°çµŒåº¦</div>
          <input id="startLon" placeholder="ç¾åœ¨åœ°çµŒåº¦">
        </div>
        <div class="grow">
          <div style="opacity:.75">ç¾åœ¨åœ°ç·¯åº¦</div>
          <input id="startLat" placeholder="ç¾åœ¨åœ°ç·¯åº¦">
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <div class="grow">
          <div style="opacity:.75">ç›®çš„åœ°çµŒåº¦</div>
          <input id="destLon" placeholder="ç›®çš„åœ°çµŒåº¦">
        </div>
        <div class="grow">
          <div style="opacity:.75">ç›®çš„åœ°ç·¯åº¦</div>
          <input id="destLat" placeholder="ç›®çš„åœ°ç·¯åº¦">
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <select id="savedList" class="grow"></select>
        <button id="openSaveModal" class="ok">ç¾åœ¨åœ°ã‚’ä¿å­˜</button>
        <button id="setFromSaved" class="primary">ç›®çš„åœ°ã«è¨­å®š</button>
        <button id="delSaved" class="danger">å‰Šé™¤</button>
      </div>

      <div class="row" style="margin-top:10px">
        <button id="panelClose" class="primary">æ“ä½œãƒ‘ãƒãƒ«ã‚’é–‰ã˜ã‚‹</button>
      </div>

      <div class="row" style="margin-top:6px"><div id="msg" class="hint">æº–å‚™å®Œäº†ã€‚ç›®çš„åœ°ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</div></div>
    </div>

    <!-- åç´ã‚¿ãƒ–ï¼ˆç”»é¢åº•ä¸­å¤®ï¼‰ -->
    <button id="panelTab">â–² ãƒ‘ãƒãƒ«ã‚’è¡¨ç¤º</button>
  </div>
</div>

<script>
/* ===== æœ€å°é™ã®åˆæœŸåŒ–ï¼ˆæ—¢å­˜æ©Ÿèƒ½ã¯å¤‰ãˆãšï¼‰ ===== */
const $=id=>document.getElementById(id);
const app=$('app'), panelWrap=$('panelWrap'), panel=$('panel'), tab=$('panelTab');
const guideBanner=$('guideBanner'), timeBar=$('timeBar'), weatherBar=$('weatherBar');

function setPanel(open){
  app.classList.toggle('panel-open', !!open);
  app.classList.toggle('panel-closed', !open);
  /* â˜… ORD-003/ERR-001ï¼šãƒ‘ãƒãƒ«è¡¨ç¤ºä¸­ã¯ HUD ã‚’éè¡¨ç¤ºï¼ˆCSSã§åˆ¶å¾¡ï¼‰ */
}
function openPanel(){ setPanel(true); }
function closePanel(){ setPanel(false); }

/* åˆæœŸçŠ¶æ…‹ï¼šè¡¨ç¤ºï¼ˆæ—¢å­˜ã¨åŒç­‰ï¼‰ */
setPanel(true);

/* ã‚¿ãƒ–ã¨ãƒœã‚¿ãƒ³ã§ãƒˆã‚°ãƒ«ï¼ˆä»•æ§˜ç¶­æŒï¼‰ */
tab.addEventListener('click', ()=> openPanel());
$('panelClose').addEventListener('click', ()=> closePanel());

/* å®Ÿæ™‚é–“ã®æ›´æ–°ï¼ˆè¦‹ãŸç›®ç¶­æŒï¼æŒ™å‹•å¤‰æ›´ãªã—ï¼‰ */
function tick(){
  const now=new Date();
  $('nowTime').textContent=now.toLocaleTimeString();
}
setInterval(tick,1000); tick();

/* åœ°å›³ï¼ˆæœ€å°èµ·å‹•ã€‚è©³ç´°æ©Ÿèƒ½ã¯æ—¢å­˜ã®ã¾ã¾ã¨ã„ã†å‰æï¼‰ */
let map;
window.addEventListener('load',()=>{
  if(typeof google==='object' && google.maps){
    map=new google.maps.Map(document.getElementById('map'),{
      center:{lat:34.342, lng:134.046}, zoom:16, mapTypeControl:false, streetViewControl:false
    });
  }
});
</script>
</body>
</html>