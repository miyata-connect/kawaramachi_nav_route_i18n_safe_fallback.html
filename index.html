<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>WalkNav（完全復元版）</title>

  <!-- ===== CSS ===== -->
  <link rel="stylesheet" href="stylesheet.css" />

  <!-- ===== メインスクリプト ===== -->
  <script defer src="app.js"></script>
</head>

<body>
  <!-- ステータス表示 -->
  <div id="status">地図を読み込み中...</div>

  <!-- 地図 -->
  <div id="map" class="map-container"></div>

  <!-- コンパス -->
  <div id="compass">N</div>

  <!-- 右側ボタン群 -->
  <div id="right-buttons">
    <button id="zoomIn">＋</button>
    <button id="zoomOut">－</button>
  </div>

  <!-- 操作パネル -->
  <div id="panel" class="glass-panel">
    <div class="panel-header">
      <h1 class="app-title">WalkNav</h1>
      <button id="settings-btn" class="icon-button">⚙️</button>
    </div>

    <!-- 検索 -->
    <div class="search-section">
      <input id="searchBox" type="text" placeholder="場所を検索" />
      <button id="searchBtn" class="btn search-btn">検索</button>
      <button id="micBtn" class="btn mic-btn">🎤</button>
      <button id="locBtn" class="btn loc-btn">📍</button>
    </div>

    <!-- 案内ボタン -->
    <div class="action-buttons">
      <button id="start-nav" class="pill-button start">案内開始</button>
      <button id="stop-nav" class="pill-button stop">案内停止</button>
      <button id="reroute-btn" class="pill-button reroute">リルート</button>
    </div>

    <!-- 天気 -->
    <div id="weather" class="weather-container">
      <div class="weather-item now">
        <span class="time-label">今</span>
        <span id="weather-now"></span>
      </div>
      <div class="weather-item next3h">
        <span class="time-label">3h</span>
        <span id="weather-3h"></span>
      </div>
      <div class="weather-item next6h">
        <span class="time-label">6h</span>
        <span id="weather-6h"></span>
      </div>
    </div>

    <!-- プログレスバー -->
    <div id="progress-container" class="progress-container hidden">
      <div id="progress-bar" class="progress-bar"></div>
      <button id="cancel-download" class="cancel-button">キャンセル</button>
    </div>
  </div>

  <!-- 設定モーダル -->
  <div id="settings-modal" class="modal hidden">
    <h2>設定</h2>

    <div class="setting-item">
      <label for="offline-mode">オフライン地図：</label>
      <select id="offline-mode">
        <option value="auto">任意</option>
        <option value="always">常に</option>
        <option value="never">しない</option>
      </select>
    </div>

    <div class="setting-item">
      <label for="language-select">言語：</label>
      <select id="language-select">
        <option value="ja">日本語</option>
        <option value="en">English</option>
        <option value="ko">한국어</option>
        <option value="zh">中文</option>
        <option value="es">Español</option>
        <option value="de">Deutsch</option>
        <option value="fr">Français</option>
        <option value="it">Italiano</option>
      </select>
    </div>

    <button id="close-settings" class="secondary-button">閉じる</button>
  </div>

  <!-- 下部タブ -->
  <div id="tab">▲</div>

  <!-- エラー表示 -->
  <div id="error-banner" class="error-banner hidden"></div>

  <!-- ✅ Google Maps JavaScript API（ブラウザ用キー・HTTPリファラー制限前提） -->
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBzojEE2142O8dWPd7gmcAj-FyWumYyFy4&libraries=places&callback=initMap">
  </script>
</body>
</html>
